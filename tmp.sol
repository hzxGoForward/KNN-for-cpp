import "truffle/Assert.sol";
import "truffle/DeployedAddresses.sol";
import "../contracts/KNN.sol";

// "SPDX-License-Identifier: UNLICENSED"
pragma solidity >=0.7.0 <0.9.0;

contract TestKNN {
    KNN knn = KNN(DeployedAddresses.KNN());

    struct DataInfo {
        uint32 m_k;
        uint32 m_column;
        uint32 m_test_row;
        uint32 m_train_row;
    }

    constructor() public {
        knn = KNN(DeployedAddresses.KNN());
    }

    // function testGetDistance() public {
    //     int32[10] memory Input1;
    //     int32 a = 1;
    //     int32 b = 3;
    //     for (uint32 i = 0; i < 5; ++i) Input1[i] = b;
    //     for (uint32 j = 5; j < 10; ++j) Input1[j] = a;

    //     int32[10] memory Input2;
    //     for (uint32 i = 0; i < 5; ++i) Input2[i] = a;
    //     for (uint32 j = 5; j < 10; ++j) Input2[j] = b;

    //     // HelloWorld hw = HelloWorld(DeployedAddresses.HelloWorld());
    //     uint32 expected = 40;
    //     Assert.equal(
    //         uint256(knn.GetDistance(Input1, Input2, 10)),
    //         uint256(expected),
    //         "Error of GetDistance function!"
    //     );
    // }

    // function testGetMinDistIndex() public {
    //     uint32[1000] memory Distance;
    //     // for(uint32 i = 999; i >=0; --i)
    //     //     Distance[i] = i;
    //     Assert.equal(
    //         uint256(knn.GetMinDistIndex(Distance, 0)),
    //         uint256(100),
    //         "Error of GetMinDistIndex"
    //     );
    // }

    function test_add_data() public {
        int32[700] memory data = [
            int32(3),
            0,
            1,
            0,
            0,
            2,
            0,
            1,
            1,
            2,
            3,
            2,
            2,
            1,
            3,
            1,
            1,
            1,
            0,
            1,
            1,
            1,
            1,
            2,
            3,
            0,
            2,
            1,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            1,
            1,
            0,
            1,
            0,
            3,
            3,
            0,
            1,
            0,
            3,
            0,
            0,
            2,
            0,
            5,
            0,
            3,
            1,
            1,
            1,
            0,
            3,
            1,
            2,
            1,
            0,
            2,
            2,
            2,
            1,
            3,
            1,
            0,
            2,
            0,
            3,
            1,
            1,
            1,
            3,
            2,
            0,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            2,
            3,
            0,
            7,
            0,
            3,
            1,
            0,
            0,
            0,
            1,
            0,
            2,
            1,
            3,
            2,
            0,
            1,
            1,
            3,
            0,
            0,
            2,
            1,
            6,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            1,
            3,
            1,
            1,
            2,
            0,
            2,
            0,
            3,
            1,
            1,
            0,
            2,
            1,
            1,
            2,
            0,
            2,
            2,
            0,
            1,
            0,
            2,
            0,
            2,
            1,
            0,
            1,
            1,
            3,
            1,
            0,
            1,
            1,
            1,
            1,
            1,
            0,
            1,
            3,
            0,
            1,
            1,
            3,
            1,
            0,
            2,
            0,
            5,
            0,
            3,
            1,
            2,
            3,
            0,
            7,
            1,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            1,
            0,
            1,
            3,
            0,
            6,
            0,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            2,
            2,
            2,
            1,
            0,
            1,
            1,
            2,
            3,
            2,
            2,
            1,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            2,
            0,
            4,
            1,
            0,
            1,
            0,
            1,
            0,
            1,
            3,
            2,
            2,
            0,
            1,
            0,
            2,
            3,
            0,
            2,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            2,
            0,
            3,
            0,
            3,
            1,
            0,
            1,
            2,
            2,
            1,
            3,
            1,
            2,
            1,
            0,
            2,
            0,
            2,
            1,
            1,
            2,
            0,
            2,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            2,
            1,
            0,
            3,
            2,
            4,
            1,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            2,
            1,
            2,
            0,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            1,
            2,
            2,
            3,
            0,
            3,
            1,
            1,
            2,
            0,
            2,
            0,
            3,
            0,
            0,
            3,
            0,
            6,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            1,
            3,
            3,
            2,
            2,
            1,
            2,
            1,
            1,
            2,
            0,
            2,
            1,
            1,
            0,
            4,
            3,
            2,
            2,
            0,
            1,
            0,
            2,
            3,
            0,
            1,
            1,
            2,
            1,
            1,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            2,
            1,
            0,
            2,
            0,
            4,
            1,
            3,
            0,
            0,
            3,
            0,
            8,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            1,
            1,
            2,
            3,
            0,
            1,
            1,
            1,
            0,
            2,
            3,
            0,
            2,
            0,
            3,
            0,
            0,
            2,
            0,
            6,
            0,
            1,
            0,
            2,
            2,
            2,
            1,
            0,
            3,
            0,
            1,
            2,
            2,
            3,
            1,
            2,
            1,
            1,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            1,
            0,
            7,
            1,
            3,
            0,
            1,
            1,
            0,
            3,
            0,
            2,
            0,
            2,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            3,
            0,
            8,
            0,
            2,
            0,
            1,
            3,
            0,
            1,
            0,
            3,
            0,
            1,
            2,
            2,
            2,
            0,
            3,
            0,
            2,
            3,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            2,
            0,
            0,
            2,
            0,
            3,
            1,
            3,
            1,
            1,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            1,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            1,
            0,
            1,
            3,
            0,
            1,
            0,
            2,
            1,
            1,
            1,
            0,
            1,
            1,
            3,
            1,
            2,
            2,
            0,
            4,
            1,
            3,
            0,
            1,
            3,
            0,
            5,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            6,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            2,
            3,
            0,
            2,
            0,
            3,
            0,
            1,
            2,
            0,
            4,
            0,
            3,
            0,
            3,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            1,
            0,
            4,
            3,
            2,
            1,
            0,
            1,
            0,
            1,
            3,
            2,
            2,
            1,
            2,
            1,
            2,
            2,
            0,
            2,
            1,
            2,
            0,
            2,
            2,
            0,
            2,
            0
        ];
        knn.add_data(data);
        uint256 data_len = knn.get_data_size();
        Assert.equal(data_len, uint256(700), "Error data length ");
        //
    }

    function test_add_data2() public {
        uint256 data_len = 0;
        int32[700] memory data0 = [
            int32(3),
            0,
            1,
            0,
            0,
            2,
            0,
            1,
            1,
            2,
            3,
            2,
            2,
            1,
            3,
            1,
            1,
            1,
            0,
            1,
            1,
            1,
            1,
            2,
            3,
            0,
            2,
            1,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            1,
            1,
            0,
            1,
            0,
            3,
            3,
            0,
            1,
            0,
            3,
            0,
            0,
            2,
            0,
            5,
            0,
            3,
            1,
            1,
            1,
            0,
            3,
            1,
            2,
            1,
            0,
            2,
            2,
            2,
            1,
            3,
            1,
            0,
            2,
            0,
            3,
            1,
            1,
            1,
            3,
            2,
            0,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            2,
            3,
            0,
            7,
            0,
            3,
            1,
            0,
            0,
            0,
            1,
            0,
            2,
            1,
            3,
            2,
            0,
            1,
            1,
            3,
            0,
            0,
            2,
            1,
            6,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            1,
            3,
            1,
            1,
            2,
            0,
            2,
            0,
            3,
            1,
            1,
            0,
            2,
            1,
            1,
            2,
            0,
            2,
            2,
            0,
            1,
            0,
            2,
            0,
            2,
            1,
            0,
            1,
            1,
            3,
            1,
            0,
            1,
            1,
            1,
            1,
            1,
            0,
            1,
            3,
            0,
            1,
            1,
            3,
            1,
            0,
            2,
            0,
            5,
            0,
            3,
            1,
            2,
            3,
            0,
            7,
            1,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            1,
            0,
            1,
            3,
            0,
            6,
            0,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            2,
            2,
            2,
            1,
            0,
            1,
            1,
            2,
            3,
            2,
            2,
            1,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            2,
            0,
            4,
            1,
            0,
            1,
            0,
            1,
            0,
            1,
            3,
            2,
            2,
            0,
            1,
            0,
            2,
            3,
            0,
            2,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            2,
            0,
            3,
            0,
            3,
            1,
            0,
            1,
            2,
            2,
            1,
            3,
            1,
            2,
            1,
            0,
            2,
            0,
            2,
            1,
            1,
            2,
            0,
            2,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            2,
            1,
            0,
            3,
            2,
            4,
            1,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            2,
            1,
            2,
            0,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            1,
            2,
            2,
            3,
            0,
            3,
            1,
            1,
            2,
            0,
            2,
            0,
            3,
            0,
            0,
            3,
            0,
            6,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            1,
            3,
            3,
            2,
            2,
            1,
            2,
            1,
            1,
            2,
            0,
            2,
            1,
            1,
            0,
            4,
            3,
            2,
            2,
            0,
            1,
            0,
            2,
            3,
            0,
            1,
            1,
            2,
            1,
            1,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            2,
            1,
            0,
            2,
            0,
            4,
            1,
            3,
            0,
            0,
            3,
            0,
            8,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            1,
            1,
            2,
            3,
            0,
            1,
            1,
            1,
            0,
            2,
            3,
            0,
            2,
            0,
            3,
            0,
            0,
            2,
            0,
            6,
            0,
            1,
            0,
            2,
            2,
            2,
            1,
            0,
            3,
            0,
            1,
            2,
            2,
            3,
            1,
            2,
            1,
            1,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            1,
            0,
            7,
            1,
            3,
            0,
            1,
            1,
            0,
            3,
            0,
            2,
            0,
            2,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            3,
            0,
            8,
            0,
            2,
            0,
            1,
            3,
            0,
            1,
            0,
            3,
            0,
            1,
            2,
            2,
            2,
            0,
            3,
            0,
            2,
            3,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            2,
            0,
            0,
            2,
            0,
            3,
            1,
            3,
            1,
            1,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            1,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            1,
            0,
            1,
            3,
            0,
            1,
            0,
            2,
            1,
            1,
            1,
            0,
            1,
            1,
            3,
            1,
            2,
            2,
            0,
            4,
            1,
            3,
            0,
            1,
            3,
            0,
            5,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            6,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            2,
            3,
            0,
            2,
            0,
            3,
            0,
            1,
            2,
            0,
            4,
            0,
            3,
            0,
            3,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            1,
            0,
            4,
            3,
            2,
            1,
            0,
            1,
            0,
            1,
            3,
            2,
            2,
            1,
            2,
            1,
            2,
            2,
            0,
            2,
            1,
            2,
            0,
            2,
            2,
            0,
            2,
            0
        ];
        data_len += data0.length;
        knn.add_data(data0);
        uint256 expected = knn.get_data_size();
        Assert.equal(data_len, expected, "Error data length ");
        
        
        int32[700] memory data1 = [
            int32(3),
            1,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            3,
            0,
            2,
            0,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            3,
            0,
            2,
            1,
            0,
            3,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            1,
            1,
            0,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            1,
            3,
            0,
            2,
            0,
            0,
            1,
            0,
            3,
            1,
            1,
            2,
            1,
            2,
            1,
            1,
            0,
            2,
            3,
            0,
            1,
            0,
            3,
            1,
            0,
            2,
            2,
            2,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            1,
            0,
            2,
            0,
            3,
            1,
            1,
            2,
            2,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            4,
            0,
            1,
            1,
            0,
            2,
            0,
            1,
            2,
            0,
            2,
            0,
            1,
            0,
            1,
            3,
            2,
            2,
            0,
            3,
            1,
            0,
            3,
            0,
            7,
            0,
            2,
            0,
            1,
            3,
            0,
            3,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            2,
            0,
            2,
            2,
            2,
            2,
            0,
            2,
            1,
            2,
            1,
            0,
            1,
            1,
            1,
            0,
            3,
            3,
            0,
            2,
            0,
            3,
            0,
            0,
            1,
            2,
            2,
            1,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            1,
            3,
            1,
            1,
            2,
            2,
            3,
            1,
            3,
            0,
            2,
            0,
            0,
            1,
            0,
            3,
            0,
            2,
            0,
            2,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            1,
            2,
            2,
            0,
            2,
            0,
            2,
            1,
            1,
            2,
            0,
            2,
            1,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            2,
            0,
            1,
            2,
            2,
            1,
            0,
            1,
            1,
            1,
            2,
            0,
            3,
            1,
            1,
            0,
            2,
            3,
            0,
            2,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            1,
            0,
            1,
            3,
            2,
            1,
            0,
            3,
            1,
            1,
            2,
            2,
            3,
            0,
            3,
            1,
            1,
            0,
            0,
            1,
            1,
            3,
            1,
            1,
            2,
            0,
            2,
            1,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            2,
            0,
            1,
            3,
            0,
            3,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            1,
            3,
            1,
            0,
            3,
            0,
            5,
            0,
            2,
            0,
            2,
            2,
            0,
            3,
            0,
            2,
            0,
            2,
            1,
            0,
            1,
            0,
            2,
            0,
            3,
            1,
            0,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            2,
            1,
            3,
            0,
            3,
            1,
            0,
            1,
            0,
            3,
            0,
            2,
            2,
            0,
            3,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            3,
            3,
            2,
            2,
            0,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            3,
            0,
            11,
            0,
            3,
            0,
            2,
            2,
            0,
            2,
            0,
            2,
            1,
            2,
            2,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            0,
            3,
            0,
            6,
            0,
            3,
            0,
            0,
            2,
            0,
            3,
            1,
            1,
            1,
            2,
            3,
            0,
            2,
            1,
            3,
            1,
            2,
            2,
            0,
            6,
            0,
            1,
            0,
            2,
            2,
            0,
            1,
            0,
            3,
            0,
            1,
            3,
            0,
            1,
            0,
            1,
            0,
            3,
            3,
            0,
            1,
            0,
            3,
            0,
            0,
            2,
            1,
            6,
            0,
            3,
            1,
            0,
            1,
            0,
            3,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            1,
            0,
            3,
            2,
            2,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            3,
            0,
            3,
            0,
            1,
            2,
            0,
            5,
            0,
            1,
            1,
            3,
            2,
            2,
            1,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            2,
            0,
            0,
            1,
            0,
            3,
            1,
            1,
            3,
            0,
            11,
            0,
            2,
            0,
            1,
            2,
            2,
            1,
            0,
            3,
            0,
            0,
            3,
            0,
            7,
            0,
            2,
            0,
            0,
            3,
            0,
            4,
            1,
            3,
            1,
            0,
            2,
            0,
            3,
            1,
            1,
            0,
            2,
            3,
            0,
            1,
            0,
            3,
            1,
            1,
            2,
            1,
            2,
            1,
            1,
            0,
            2,
            2,
            0,
            1,
            1,
            3,
            0,
            2,
            2,
            1,
            3,
            0,
            3,
            0,
            2,
            0,
            0,
            1,
            0,
            2,
            1,
            2,
            1,
            0,
            1,
            1,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            0,
            0,
            2,
            1,
            2,
            0,
            0,
            2,
            0,
            3,
            1,
            1,
            1,
            2,
            2,
            2,
            1,
            1,
            1,
            1,
            3,
            3,
            2,
            1,
            1,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            3,
            0,
            2,
            1,
            0,
            2,
            0,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            2,
            1,
            1,
            1,
            0,
            1,
            0
        ];
        data_len += data0.length;
        knn.add_data(data1);
        expected = knn.get_data_size();
        Assert.equal(data_len, expected, "Error data length ");
        
        int32[700] memory data2 = [
            int32(3),
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            3,
            0,
            11,
            0,
            3,
            0,
            2,
            0,
            0,
            1,
            0,
            3,
            0,
            2,
            0,
            2,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            1,
            3,
            1,
            0,
            1,
            0,
            2,
            0,
            3,
            0,
            2,
            2,
            0,
            2,
            0,
            3,
            0,
            1,
            2,
            2,
            1,
            1,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            1,
            0,
            2,
            2,
            2,
            1,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            2,
            1,
            2,
            2,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            1,
            2,
            0,
            1,
            1,
            1,
            3,
            2,
            2,
            1,
            3,
            1,
            1,
            1,
            0,
            1,
            1,
            2,
            0,
            2,
            2,
            0,
            2,
            0,
            1,
            1,
            2,
            3,
            2,
            1,
            1,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            1,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            3,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            2,
            3,
            0,
            2,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            2,
            0,
            5,
            0,
            1,
            1,
            2,
            3,
            0,
            2,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            2,
            0,
            3,
            1,
            0,
            1,
            0,
            3,
            1,
            0,
            3,
            0,
            7,
            1,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            0,
            0,
            1,
            0,
            2,
            0,
            2,
            2,
            0,
            2,
            0,
            2,
            1,
            0,
            2,
            0,
            3,
            1,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            2,
            0,
            2,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            2,
            2,
            2,
            0,
            3,
            1,
            1,
            2,
            1,
            2,
            1,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            1,
            0,
            2,
            3,
            1,
            3,
            0,
            3,
            1,
            1,
            0,
            0,
            1,
            0,
            2,
            1,
            1,
            2,
            0,
            3,
            1,
            1,
            0,
            2,
            3,
            0,
            3,
            1,
            2,
            0,
            3,
            2,
            0,
            2,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            1,
            1,
            1,
            0,
            3,
            0,
            1,
            0,
            3,
            2,
            0,
            1,
            0,
            3,
            0,
            1,
            2,
            0,
            2,
            0,
            3,
            1,
            2,
            2,
            0,
            3,
            0,
            3,
            1,
            1,
            2,
            2,
            3,
            1,
            1,
            1,
            2,
            3,
            2,
            1,
            1,
            1,
            1,
            1,
            3,
            0,
            1,
            1,
            1,
            1,
            2,
            3,
            2,
            1,
            1,
            2,
            1,
            3,
            2,
            0,
            2,
            1,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            3,
            0,
            0,
            3,
            0,
            7,
            1,
            1,
            0,
            3,
            3,
            0,
            3,
            0,
            1,
            0,
            2,
            0,
            0,
            1,
            0,
            3,
            1,
            1,
            0,
            1,
            1,
            0,
            2,
            0,
            2,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            3,
            0,
            6,
            0,
            3,
            0,
            1,
            0,
            0,
            2,
            1,
            1,
            1,
            3,
            3,
            0,
            2,
            1,
            1,
            1,
            2,
            3,
            0,
            1,
            1,
            1,
            0,
            2,
            2,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            1,
            2,
            1,
            2,
            2,
            0,
            2,
            1,
            1,
            0,
            2,
            2,
            2,
            2,
            0,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            1,
            1,
            3,
            3,
            0,
            2,
            1,
            3,
            1,
            2,
            0,
            0,
            1,
            0,
            2,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            0,
            2,
            1,
            6,
            0,
            3,
            1,
            2,
            2,
            0,
            3,
            1,
            3,
            0,
            4,
            0,
            1,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            1,
            1,
            0,
            2,
            2,
            0,
            1,
            0,
            3,
            0,
            2,
            1,
            2,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            2,
            0,
            2,
            1,
            0,
            1,
            1,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            3,
            0,
            1,
            1,
            1,
            1,
            1,
            3,
            2,
            2,
            1,
            2,
            0,
            2,
            1,
            2,
            1,
            0,
            3,
            1,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            2,
            2,
            2,
            1,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            1,
            1,
            0,
            3,
            0,
            4,
            0,
            1,
            0,
            2,
            2,
            0,
            1,
            1,
            1,
            1,
            3,
            3,
            2,
            2,
            1
        ];
        data_len += data0.length;
        knn.add_data(data2);
        expected = knn.get_data_size();
        Assert.equal(data_len, expected, "Error data length ");

        int32[700] memory data3 = [
            int32(3),
            1,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            1,
            2,
            1,
            3,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            2,
            1,
            1,
            1,
            1,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            3,
            0,
            4,
            1,
            1,
            1,
            2,
            3,
            2,
            1,
            1,
            1,
            1,
            1,
            3,
            2,
            2,
            1,
            2,
            0,
            1,
            2,
            2,
            2,
            0,
            1,
            1,
            1,
            3,
            2,
            1,
            1,
            1,
            1,
            1,
            3,
            2,
            1,
            1,
            1,
            1,
            1,
            3,
            2,
            5,
            1,
            2,
            1,
            1,
            2,
            0,
            3,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            2,
            0,
            2,
            2,
            0,
            3,
            0,
            3,
            1,
            1,
            0,
            0,
            1,
            1,
            2,
            1,
            1,
            2,
            0,
            2,
            1,
            2,
            0,
            3,
            1,
            0,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            3,
            1,
            1,
            1,
            2,
            3,
            2,
            3,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            2,
            1,
            1,
            1,
            1,
            1,
            1,
            2,
            1,
            1,
            2,
            0,
            3,
            1,
            3,
            0,
            1,
            3,
            0,
            11,
            0,
            1,
            1,
            2,
            3,
            2,
            1,
            1,
            3,
            0,
            3,
            0,
            0,
            1,
            0,
            2,
            1,
            2,
            1,
            0,
            1,
            1,
            3,
            1,
            1,
            2,
            0,
            3,
            1,
            1,
            1,
            1,
            3,
            2,
            2,
            1,
            3,
            1,
            1,
            2,
            1,
            3,
            1,
            1,
            0,
            2,
            2,
            0,
            1,
            0,
            1,
            0,
            2,
            3,
            0,
            2,
            0,
            3,
            0,
            1,
            2,
            0,
            3,
            0,
            1,
            1,
            2,
            3,
            0,
            2,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            3,
            0,
            2,
            0,
            1,
            1,
            2,
            3,
            2,
            1,
            1,
            3,
            0,
            2,
            1,
            0,
            1,
            1,
            1,
            0,
            2,
            3,
            0,
            1,
            0,
            2,
            0,
            0,
            2,
            0,
            3,
            1,
            1,
            1,
            1,
            3,
            0,
            6,
            1,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            2,
            0,
            2,
            1,
            0,
            1,
            0,
            2,
            1,
            1,
            1,
            0,
            1,
            1,
            2,
            1,
            2,
            1,
            0,
            1,
            1,
            3,
            1,
            1,
            2,
            0,
            2,
            1,
            3,
            0,
            0,
            2,
            0,
            3,
            1,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            1,
            0,
            2,
            3,
            0,
            1,
            0,
            3,
            0,
            0,
            0,
            2,
            3,
            0,
            3,
            0,
            1,
            2,
            0,
            2,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            2,
            1,
            2,
            1,
            2,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            2,
            2,
            0,
            6,
            0,
            2,
            0,
            1,
            2,
            2,
            2,
            0,
            3,
            1,
            2,
            2,
            2,
            2,
            0,
            3,
            0,
            2,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            2,
            1,
            2,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            1,
            3,
            3,
            2,
            2,
            1,
            3,
            1,
            1,
            0,
            2,
            1,
            1,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            3,
            2,
            1,
            1,
            1,
            0,
            1,
            3,
            2,
            2,
            1,
            3,
            0,
            1,
            0,
            0,
            2,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            1,
            0,
            1,
            3,
            2,
            1,
            0,
            3,
            1,
            0,
            2,
            0,
            5,
            0,
            1,
            1,
            2,
            3,
            2,
            2,
            1,
            3,
            1,
            1,
            0,
            0,
            1,
            1,
            1,
            0,
            1,
            3,
            2,
            3,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            1,
            2,
            3,
            2,
            1,
            1,
            3,
            1,
            0,
            2,
            2,
            3,
            1,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            1,
            1,
            2,
            3,
            0,
            2,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            2,
            0,
            1,
            3,
            0,
            1,
            0,
            3,
            0,
            0,
            3,
            0,
            8,
            0,
            2,
            1,
            2,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            2,
            1,
            1,
            1,
            2,
            1,
            1,
            1,
            0,
            2,
            3,
            0,
            4,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            3,
            0,
            1,
            1,
            1,
            3,
            2,
            2,
            1,
            3,
            1,
            1,
            2,
            0,
            3,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            1,
            1,
            0,
            0,
            1,
            0,
            2,
            0,
            2,
            2,
            0,
            1,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            2,
            1,
            1,
            1,
            0,
            1,
            1
        ];
        data_len += data0.length;
        knn.add_data(data3);
        expected = knn.get_data_size();
        Assert.equal(data_len, expected, "Error data length ");

        int32[700] memory data4 = [
            int32(3),
            0,
            2,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            1,
            0,
            2,
            0,
            3,
            0,
            1,
            2,
            0,
            2,
            0,
            3,
            1,
            1,
            1,
            0,
            1,
            0,
            2,
            0,
            2,
            2,
            0,
            2,
            0,
            3,
            0,
            3,
            0,
            0,
            1,
            0,
            2,
            0,
            0,
            2,
            0,
            3,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            1,
            1,
            2,
            0,
            5,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            1,
            1,
            2,
            3,
            1,
            2,
            1,
            2,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            2,
            1,
            0,
            1,
            1,
            3,
            1,
            1,
            1,
            0,
            1,
            0,
            2,
            1,
            2,
            3,
            0,
            3,
            1,
            2,
            1,
            1,
            1,
            0,
            3,
            1,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            1,
            0,
            2,
            0,
            3,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            1,
            1,
            1,
            0,
            3,
            0,
            3,
            0,
            1,
            2,
            0,
            3,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            2,
            1,
            1,
            2,
            0,
            2,
            1,
            2,
            1,
            1,
            2,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            3,
            0,
            2,
            1,
            0,
            1,
            1,
            1,
            0,
            1,
            2,
            0,
            1,
            1,
            3,
            1,
            1,
            2,
            0,
            2,
            1,
            2,
            1,
            2,
            2,
            0,
            2,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            3,
            3,
            0,
            2,
            0,
            1,
            1,
            0,
            3,
            0,
            4,
            1,
            3,
            1,
            1,
            3,
            0,
            5,
            0,
            2,
            1,
            1,
            2,
            0,
            6,
            1,
            1,
            0,
            4,
            3,
            0,
            6,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            2,
            1,
            2,
            2,
            0,
            3,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            2,
            0,
            2,
            1,
            1,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            1,
            1,
            0,
            0,
            3,
            0,
            3,
            1,
            2,
            1,
            0,
            2,
            0,
            2,
            1,
            1,
            0,
            2,
            2,
            0,
            1,
            1,
            3,
            1,
            0,
            2,
            2,
            4,
            1,
            1,
            0,
            3,
            2,
            0,
            1,
            1,
            2,
            0,
            2,
            2,
            0,
            4,
            0,
            3,
            0,
            1,
            2,
            0,
            2,
            0,
            1,
            0,
            1,
            2,
            2,
            1,
            0,
            1,
            0,
            3,
            3,
            2,
            2,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            1,
            1,
            0,
            4,
            2,
            0,
            1,
            0,
            1,
            1,
            2,
            3,
            0,
            2,
            1,
            2,
            1,
            3,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            2,
            0,
            1,
            1,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            1,
            0,
            2,
            3,
            0,
            1,
            0,
            2,
            0,
            3,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            2,
            0,
            0,
            1,
            0,
            2,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            3,
            2,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            3,
            1,
            0,
            2,
            2,
            4,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            2,
            1,
            2,
            2,
            0,
            4,
            1,
            2,
            1,
            1,
            1,
            2,
            1,
            1,
            3,
            1,
            1,
            1,
            0,
            1,
            0,
            1,
            0,
            2,
            3,
            0,
            1,
            0,
            2,
            0,
            2,
            2,
            0,
            2,
            0,
            3,
            0,
            1,
            0,
            0,
            2,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            1,
            0,
            1,
            0,
            2,
            1,
            3,
            0,
            0,
            3,
            0,
            8,
            0,
            2,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            3,
            1,
            0,
            1,
            0,
            3,
            1,
            3,
            1,
            0,
            1,
            1,
            1,
            0,
            1,
            3,
            2,
            2,
            1,
            3,
            1,
            1,
            2,
            0,
            5,
            0,
            1,
            1,
            2,
            3,
            0,
            2,
            1,
            1,
            0,
            3,
            2,
            2,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            0,
            2,
            0,
            3,
            1,
            3,
            0,
            1,
            2,
            0,
            2,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            3,
            2,
            0,
            1,
            0,
            1,
            0,
            4,
            3,
            2,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            2,
            2,
            1,
            0,
            1,
            1,
            3,
            3,
            2,
            2,
            1,
            3,
            0,
            1,
            2,
            0,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            4,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0
        ];
        data_len += data0.length;
        knn.add_data(data4);
        expected = knn.get_data_size();
        Assert.equal(data_len, expected, "Error data length ");

        int32[700] memory data5 = [
            int32(3),
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            0,
            1,
            1,
            0,
            3,
            1,
            1,
            0,
            1,
            1,
            0,
            3,
            1,
            2,
            1,
            0,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            1,
            1,
            1,
            0,
            1,
            3,
            2,
            2,
            0,
            2,
            1,
            2,
            2,
            0,
            3,
            1,
            1,
            0,
            2,
            2,
            0,
            1,
            1,
            3,
            0,
            1,
            2,
            0,
            1,
            0,
            3,
            0,
            1,
            3,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            1,
            0,
            2,
            2,
            0,
            1,
            1,
            1,
            1,
            3,
            3,
            2,
            2,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            2,
            3,
            0,
            1,
            0,
            2,
            1,
            2,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            2,
            1,
            1,
            0,
            2,
            1,
            2,
            2,
            0,
            2,
            1,
            3,
            0,
            2,
            0,
            0,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            1,
            1,
            2,
            3,
            2,
            2,
            1,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            3,
            0,
            2,
            0,
            1,
            1,
            0,
            2,
            1,
            3,
            1,
            0,
            1,
            1,
            1,
            0,
            2,
            3,
            0,
            1,
            0,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            2,
            0,
            1,
            1,
            0,
            4,
            0,
            2,
            1,
            0,
            2,
            0,
            3,
            1,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            3,
            0,
            1,
            0,
            2,
            3,
            0,
            3,
            1,
            1,
            2,
            2,
            3,
            1,
            3,
            1,
            1,
            1,
            0,
            1,
            0,
            2,
            1,
            0,
            2,
            0,
            3,
            1,
            1,
            0,
            2,
            2,
            0,
            1,
            0,
            1,
            1,
            1,
            3,
            2,
            1,
            1,
            3,
            0,
            1,
            2,
            0,
            1,
            0,
            1,
            1,
            1,
            3,
            2,
            3,
            1,
            1,
            1,
            2,
            3,
            0,
            3,
            1,
            3,
            1,
            0,
            3,
            0,
            7,
            0,
            3,
            1,
            0,
            3,
            0,
            7,
            0,
            2,
            0,
            2,
            2,
            0,
            2,
            1,
            1,
            0,
            3,
            3,
            2,
            2,
            0,
            1,
            0,
            4,
            2,
            0,
            1,
            0,
            2,
            1,
            1,
            2,
            0,
            2,
            1,
            2,
            0,
            1,
            1,
            2,
            1,
            1,
            3,
            0,
            2,
            2,
            0,
            3,
            0,
            2,
            0,
            0,
            3,
            0,
            3,
            1,
            1,
            0,
            1,
            3,
            2,
            3,
            1,
            2,
            0,
            1,
            2,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            1,
            3,
            1,
            1,
            0,
            0,
            1,
            1,
            1,
            0,
            3,
            2,
            0,
            1,
            0,
            1,
            1,
            3,
            3,
            2,
            2,
            1,
            1,
            0,
            2,
            3,
            2,
            1,
            0,
            1,
            1,
            2,
            3,
            0,
            3,
            1,
            3,
            1,
            2,
            2,
            0,
            2,
            1,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            3,
            0,
            2,
            0,
            0,
            1,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            2,
            0,
            3,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            1,
            1,
            2,
            0,
            5,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            3,
            0,
            2,
            0,
            0,
            1,
            1,
            2,
            0,
            3,
            1,
            0,
            1,
            1,
            1,
            1,
            3,
            3,
            0,
            3,
            1,
            1,
            0,
            2,
            2,
            0,
            1,
            1,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            2,
            0,
            1,
            0,
            2,
            1,
            2,
            1,
            0,
            1,
            1,
            1,
            1,
            2,
            3,
            0,
            2,
            1,
            3,
            1,
            1,
            2,
            2,
            2,
            0,
            3,
            0,
            2,
            1,
            0,
            1,
            1,
            2,
            1,
            1,
            2,
            0,
            3,
            1,
            1,
            1,
            2,
            3,
            2,
            3,
            1,
            2,
            0,
            3,
            2,
            0,
            1,
            0,
            1,
            0,
            2,
            3,
            2,
            1,
            0,
            3,
            0,
            1,
            1,
            2,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            3,
            1,
            2,
            0,
            2,
            2,
            0,
            1,
            0,
            1,
            0,
            3,
            3,
            2,
            3,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            2,
            0,
            0,
            1,
            0,
            1,
            1,
            3,
            3,
            2,
            2,
            1,
            3,
            0,
            2,
            0,
            0,
            1,
            0,
            3,
            1,
            1,
            0,
            1,
            3,
            0,
            2,
            0,
            2,
            2,
            0,
            2,
            0,
            3,
            0,
            2,
            2,
            0,
            3,
            0,
            2,
            1,
            1,
            3,
            0,
            1,
            1,
            3,
            0,
            3,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            1,
            0,
            3,
            3,
            2,
            2,
            1
        ];
        data_len += data0.length;
        knn.add_data(data5);
        expected = knn.get_data_size();
        Assert.equal(data_len, expected, "Error data length ");

        int32[700] memory data6 = [
            int32(2),
            1,
            1,
            2,
            0,
            4,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            2,
            3,
            0,
            1,
            0,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            1,
            0,
            2,
            2,
            2,
            1,
            1,
            3,
            0,
            2,
            2,
            0,
            2,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            2,
            0,
            1,
            1,
            2,
            1,
            1,
            3,
            2,
            4,
            1,
            1,
            1,
            2,
            3,
            0,
            1,
            1,
            3,
            1,
            2,
            3,
            0,
            7,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            1,
            1,
            2,
            1,
            2,
            1,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            2,
            1,
            1,
            3,
            0,
            4,
            1,
            3,
            0,
            2,
            1,
            0,
            3,
            0,
            3,
            1,
            1,
            2,
            0,
            2,
            0,
            2,
            1,
            0,
            3,
            0,
            4,
            1,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            2,
            2,
            2,
            0,
            1,
            0,
            2,
            3,
            0,
            2,
            1,
            3,
            0,
            1,
            2,
            2,
            3,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            2,
            0,
            1,
            0,
            1,
            0,
            3,
            3,
            0,
            1,
            0,
            2,
            0,
            3,
            1,
            1,
            1,
            0,
            1,
            1,
            1,
            3,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            1,
            0,
            4,
            2,
            0,
            1,
            1,
            3,
            0,
            3,
            0,
            0,
            1,
            0,
            1,
            0,
            2,
            2,
            2,
            1,
            1,
            1,
            0,
            2,
            0,
            0,
            1,
            0,
            3,
            1,
            0,
            2,
            0,
            6,
            0,
            2,
            1,
            1,
            1,
            0,
            1,
            1,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            2,
            0,
            1,
            2,
            0,
            3,
            0,
            3,
            1,
            2,
            3,
            0,
            6,
            0,
            3,
            0,
            1,
            2,
            0,
            2,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            1,
            1,
            3,
            2,
            1,
            1,
            3,
            1,
            0,
            2,
            0,
            6,
            0,
            3,
            0,
            1,
            3,
            0,
            1,
            1,
            3,
            1,
            0,
            2,
            2,
            4,
            1,
            1,
            0,
            3,
            3,
            2,
            2,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            3,
            3,
            2,
            1,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            1,
            1,
            0,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            2,
            1,
            1,
            2,
            0,
            2,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            3,
            1,
            1,
            0,
            1,
            1,
            0,
            2,
            0,
            1,
            3,
            0,
            3,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            1,
            2,
            2,
            1,
            3,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            1,
            0,
            3,
            3,
            2,
            3,
            0,
            1,
            0,
            3,
            3,
            0,
            3,
            1,
            3,
            0,
            2,
            0,
            2,
            1,
            0,
            1,
            0,
            2,
            2,
            0,
            1,
            0,
            3,
            0,
            2,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            2,
            1,
            2,
            0,
            2,
            3,
            0,
            3,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            1,
            1,
            2,
            3,
            0,
            2,
            1,
            2,
            1,
            2,
            3,
            0,
            3,
            1,
            1,
            0,
            1,
            3,
            0,
            2,
            0,
            2,
            0,
            4,
            1,
            0,
            1,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            1,
            2,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            1,
            0,
            1,
            1,
            3,
            1,
            2,
            3,
            0,
            8,
            0,
            1,
            0,
            2,
            3,
            2,
            2,
            1,
            3,
            1,
            1,
            1,
            1,
            1,
            0,
            1,
            0,
            1,
            3,
            2,
            1,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            0,
            3,
            0,
            8,
            0,
            2,
            0,
            3,
            3,
            0,
            3,
            0,
            2,
            0,
            1,
            3,
            2,
            4,
            0,
            3,
            0,
            0,
            3,
            0,
            6,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            1,
            0,
            3,
            0,
            2,
            1,
            1,
            0,
            1,
            3,
            0,
            2,
            1,
            3,
            1,
            0,
            1,
            2,
            2,
            1,
            3,
            0,
            1,
            3,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            1,
            0,
            3,
            2,
            0,
            1,
            0,
            2,
            0,
            3,
            1,
            0,
            1,
            0,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            1,
            0,
            3,
            3,
            2,
            3,
            0,
            3,
            0,
            2,
            0,
            0,
            1,
            0
        ];
        data_len += data0.length;
        knn.add_data(data6);
        expected = knn.get_data_size();
        Assert.equal(data_len, expected, "Error data length ");


        int32[700] memory data7 = [
            int32(1),
            1,
            1,
            3,
            2,
            2,
            1,
            1,
            0,
            2,
            2,
            0,
            1,
            1,
            3,
            1,
            1,
            2,
            2,
            2,
            0,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            2,
            0,
            2,
            0,
            2,
            2,
            0,
            1,
            0,
            2,
            1,
            2,
            1,
            0,
            1,
            1,
            1,
            0,
            2,
            2,
            0,
            1,
            1,
            1,
            1,
            1,
            3,
            0,
            1,
            1,
            3,
            0,
            1,
            2,
            2,
            3,
            1,
            1,
            1,
            1,
            3,
            2,
            1,
            1,
            1,
            0,
            2,
            2,
            0,
            1,
            0,
            1,
            0,
            3,
            3,
            0,
            2,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            2,
            0,
            3,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            1,
            2,
            3,
            2,
            1,
            1,
            2,
            1,
            1,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            2,
            1,
            1,
            0,
            3,
            0,
            2,
            0,
            0,
            1,
            0,
            2,
            1,
            0,
            3,
            0,
            2,
            1,
            3,
            0,
            1,
            0,
            0,
            2,
            0,
            2,
            0,
            2,
            1,
            0,
            1,
            0,
            2,
            0,
            3,
            1,
            0,
            1,
            0,
            1,
            0,
            1,
            3,
            0,
            2,
            1,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            2,
            1,
            1,
            2,
            0,
            4,
            1,
            3,
            1,
            1,
            0,
            1,
            1,
            1,
            2,
            0,
            1,
            2,
            0,
            2,
            0,
            3,
            1,
            1,
            1,
            0,
            2,
            0,
            1,
            1,
            1,
            3,
            0,
            1,
            1,
            3,
            0,
            0,
            2,
            2,
            1,
            0,
            2,
            0,
            1,
            0,
            0,
            1,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            2,
            0,
            1,
            0,
            3,
            1,
            3,
            3,
            0,
            5,
            0,
            1,
            0,
            2,
            3,
            2,
            1,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            2,
            2,
            0,
            1,
            1,
            1,
            0,
            2,
            3,
            0,
            2,
            0,
            1,
            1,
            1,
            3,
            2,
            5,
            1,
            3,
            0,
            1,
            2,
            0,
            2,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            1,
            1,
            0,
            4,
            3,
            0,
            3,
            0,
            3,
            0,
            1,
            2,
            0,
            3,
            0,
            2,
            1,
            1,
            1,
            0,
            1,
            1,
            1,
            0,
            1,
            3,
            0,
            2,
            0,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            2,
            1,
            0,
            2,
            0,
            3,
            1,
            3,
            0,
            0,
            1,
            0,
            2,
            1,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            2,
            1,
            3,
            3,
            0,
            4,
            1,
            2,
            0,
            0,
            2,
            0,
            3,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            2,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            1,
            1,
            2,
            3,
            0,
            1,
            1,
            3,
            0,
            1,
            2,
            0,
            1,
            0,
            3,
            0,
            2,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            1,
            1,
            1,
            2,
            3,
            0,
            4,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            1,
            3,
            3,
            0,
            2,
            1,
            1,
            0,
            2,
            3,
            2,
            1,
            0,
            3,
            1,
            1,
            0,
            1,
            1,
            0,
            3,
            0,
            1,
            2,
            1,
            2,
            0,
            3,
            0,
            2,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            1,
            0,
            1,
            0,
            3,
            0,
            3,
            0,
            0,
            1,
            0,
            2,
            1,
            3,
            1,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            2,
            1,
            3,
            2,
            0,
            5,
            1,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            3,
            1,
            0,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            1,
            1,
            2,
            3,
            0,
            2,
            1,
            3,
            1,
            0,
            0,
            2,
            1,
            1,
            1,
            1,
            1,
            3,
            0,
            2,
            1,
            1,
            0,
            1,
            2,
            0,
            1,
            0,
            3,
            0,
            1,
            2,
            0,
            4,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            3,
            1,
            1,
            0,
            0,
            1,
            1,
            3,
            0,
            0,
            2,
            1,
            6,
            0,
            3,
            0,
            0,
            2,
            0,
            4,
            1,
            1,
            0,
            2,
            3,
            2,
            1,
            0,
            3,
            0,
            1,
            0,
            1,
            1,
            0,
            2,
            0,
            1,
            2,
            0,
            1,
            0,
            3,
            1,
            1,
            3,
            0,
            11,
            0,
            1,
            0,
            2,
            2,
            2,
            1,
            0,
            3,
            0,
            1,
            0,
            0,
            1,
            0,
            2,
            0,
            2,
            1,
            0,
            1,
            0,
            1,
            1,
            3,
            2,
            0,
            1,
            1,
            3,
            1,
            1,
            1,
            0,
            1,
            1,
            3,
            0,
            1,
            0,
            2,
            1,
            0,
            3,
            1,
            1,
            2,
            0,
            3,
            0
        ];
        data_len += data0.length;
        knn.add_data(data7);
        expected = knn.get_data_size();
        Assert.equal(data_len, expected, "Error data length ");

    }
}
